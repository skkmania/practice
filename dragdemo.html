<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>script.aculo.us Unit test file</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script src="scriptaculous/lib/prototype.js" type="text/javascript"></script>
  <script src="scriptaculous/src/scriptaculous.js" type="text/javascript"></script>
  <script src="scriptaculous/src/unittest.js" type="text/javascript"></script>
  <link rel="stylesheet" href="scriptaculous/test/test.css" type="text/css" />
  <style type="text/css" media="screen">
  /* <![CDATA[ */
    #div_absolute_test { position: absolute }
  /* ]]> */
  </style>
  
<script>
var gTux;

function drawBoard(cols, rows){
  var board = $('board');
  for (var row = 0; row < rows; ++row)
    for(var col = 0; col < cols; ++col){
      var cell = new Element('span', {
        'class': 'cell ' + (1 == (row + col) % 2 ? 'white' : 'black') });
      board.appendChild(cell);
    }
}

function toggleTux() {
  if (gTux) {
    gTux.element.setStyle({ cursor: 'default' });
    gTux.destroy();
    gTux = null;
    return;
  }
  gTux = new Draggable('piece');
  gTux.element.setStyle({ cursor : '' });
}

document.observe('dom:loaded', function(){
  $('chkDraggable').observe('click', toggleTux);
  drawBoard(3,3);
  toggleTux();
});
</script>
</head>
<body>

<h1>Playing with Draggables</h1>
<div id="board">
  <span id="piece"></span>
</div>
<form>
  <p>
    <input type="checkbox" id="chkDraggable" checked="checked" />
    <label for="chkDraggable" accesskey="D">Tux is draggable</label>
  </p>
</form>

</body>
</html>
